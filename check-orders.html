<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Check Orders - Warehouse IoF System</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        .container {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            font-size: 24px;
        }

        .search-bar {
            display: flex;
            margin-bottom: 20px;
        }

        .search-bar input[type="text"] {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px 0 0 5px;
            font-size: 16px;
        }

        .search-bar button {
            padding: 10px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 0 5px 5px 0;
            cursor: pointer;
        }

        .search-bar button:hover {
            background-color: #0056b3;
        }

        .order-list {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .order-list li {
            padding: 15px;
            border-bottom: 1px solid #ddd;
            display: flex;
            justify-content: space-between;
        }

        .order-list li:last-child {
            border-bottom: none;
        }

        .order-list .order-details {
            font-size: 16px;
        }

        .order-list .order-status {
            padding: 5px 10px;
            border-radius: 5px;
            color: white;
            font-size: 14px;
        }

        .status-new {
            background-color: #FF5733;
        }

        .status-processing {
            background-color: #FFC300;
        }

        .status-completed {
            background-color: #28A745;
        }

        .update-status {
            margin-top: 20px;
            text-align: center;
        }

        .update-status select {
            padding: 10px;
            font-size: 16px;
        }

        .update-status button {
            padding: 10px 20px;
            background-color: #28A745;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-left: 10px;
        }

        .update-status button:hover {
            background-color: #218838;
        }

        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }

            .search-bar input[type="text"],
            .search-bar button,
            .update-status select,
            .update-status button {
                width: 100%;
                margin-top: 10px;
            }

            .search-bar {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Check Orders</h1>

    <!-- Search Bar -->
    <div class="search-bar">
        <input type="text" id="searchQuery" placeholder="Search by Order ID, Product, or Client">
        <button onclick="searchOrders()">Search</button>
    </div>

    <!-- Order List -->
    <ul class="order-list" id="orderList">
        <!-- Orders will be dynamically inserted here -->
    </ul>

    <!-- Update Order Status -->
    <div class="update-status">
        <select id="statusSelect">
            <option value="new">New</option>
            <option value="processing">Processing</option>
            <option value="completed">Completed</option>
        </select>
        <button onclick="updateOrderStatus()">Update Status</button>
    </div>
</div>

<script>
    // Sample data for orders
    var orders = [
        { id: 'ORD001', product: 'Product A', client: 'Client X', status: 'new' },
        { id: 'ORD002', product: 'Product B', client: 'Client Y', status: 'processing' },
        { id: 'ORD003', product: 'Product C', client: 'Client Z', status: 'completed' }
    ];

    var selectedOrderId = null;

    // Function to load orders into the order list
    function loadOrders() {
        var orderList = document.getElementById('orderList');
        orderList.innerHTML = ''; // Clear previous list

        orders.forEach(function(order) {
            var orderItem = document.createElement('li');
            orderItem.classList.add('order-item');
            orderItem.innerHTML = `
                <span class="order-details">
                    Order ID: ${order.id}<br>
                    Product: ${order.product}<br>
                    Client: ${order.client}
                </span>
                <span class="order-status ${getStatusClass(order.status)}">
                    ${capitalize(order.status)}
                </span>
            `;
            orderItem.addEventListener('click', function() {
                selectedOrderId = order.id;
                document.getElementById('statusSelect').value = order.status;
            });
            orderList.appendChild(orderItem);
        });
    }

    // Helper function to capitalize the first letter of a word
    function capitalize(word) {
        return word.charAt(0).toUpperCase() + word.slice(1);
    }

    // Helper function to get the CSS class for the status
    function getStatusClass(status) {
        switch (status) {
            case 'new':
                return 'status-new';
            case 'processing':
                return 'status-processing';
            case 'completed':
                return 'status-completed';
            default:
                return '';
        }
    }

    // Function to search orders
    function searchOrders() {
        var query = document.getElementById('searchQuery').value.toLowerCase();
        var filteredOrders = orders.filter(function(order) {
            return order.id.toLowerCase().includes(query) ||
                   order.product.toLowerCase().includes(query) ||
                   order.client.toLowerCase().includes(query);
        });

        if (filteredOrders.length > 0) {
            orders = filteredOrders;
        } else {
            alert('No orders found matching your search criteria.');
        }

        loadOrders();
    }

    // Function to update order status
    function updateOrderStatus() {
        var newStatus = document.getElementById('statusSelect').value;

        if (selectedOrderId) {
            var order = orders.find(function(o) { return o.id === selectedOrderId; });
            if (order) {
                order.status = newStatus;
                loadOrders();
                alert('Order status updated successfully.');
            } else {
                alert('Order not found.');
            }
        } else {
            alert('Please select an order to update.');
        }
    }

    // Load orders on page load
    loadOrders();
</script>

</body>
</html>